{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "version": {
      "type": "string"
    },
    "schemaVersion": {
      "type": "number"
    },
    "contentVersion": {
      "type": "string"
    },
    "contentVersionType": {
      "enum": [
        "commit",
        "custom",
        "date",
        "revision",
        "semver"
      ],
      "type": "string"
    },
    "displayName": {
      "type": "string"
    },
    "description": {
      "description": "Short description of what this library contains",
      "type": "string"
    },
    "agentDescription": {
      "description": "Detailed guidance for AI agents on when to use this library. Should describe the\ntypes of questions/tasks this library can help with. Example: \"Use this library when\nthe user asks about React hooks, component lifecycle, or JSX syntax. Contains\nofficial React documentation and examples.\"",
      "type": "string"
    },
    "exampleQueries": {
      "description": "Example queries that this library is good at answering. Helps agents understand the\nlibrary's scope through concrete examples.",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "keywords": {
      "description": "Searchable keywords/tags",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "programmingLanguages": {
      "description": "Primary programming language(s) covered (e.g., \"typescript\", \"python\")",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "textLanguages": {
      "description": "Human/natural language(s) of the content, as ISO 639-1 codes (e.g., \"en\", \"es\",\n\"zh\")",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "frameworks": {
      "description": "Frameworks or tools covered (e.g., \"react\", \"express\", \"pytest\")",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "license": {
      "type": "string"
    },
    "author": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "url": {
          "type": "string"
        }
      },
      "required": [
        "name"
      ]
    },
    "repository": {
      "type": "string"
    },
    "createdAt": {
      "type": "string"
    },
    "embedding": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string"
        },
        "dimensions": {
          "type": "number"
        },
        "quantization": {
          "type": "string"
        }
      },
      "required": [
        "dimensions",
        "model"
      ]
    },
    "chunking": {
      "type": "object",
      "properties": {
        "strategy": {
          "type": "string"
        },
        "chunkSize": {
          "type": "number"
        },
        "chunkOverlap": {
          "type": "number"
        }
      },
      "required": [
        "chunkOverlap",
        "chunkSize",
        "strategy"
      ]
    },
    "stats": {
      "type": "object",
      "properties": {
        "chunkCount": {
          "type": "number"
        },
        "sourceCount": {
          "type": "number"
        },
        "fileSize": {
          "type": "number"
        }
      },
      "required": [
        "chunkCount",
        "fileSize",
        "sourceCount"
      ]
    },
    "contentHash": {
      "type": "string"
    },
    "source": {
      "description": "Source provenance information",
      "$ref": "#/definitions/SourceProvenance"
    }
  },
  "required": [
    "chunking",
    "contentHash",
    "createdAt",
    "embedding",
    "name",
    "schemaVersion",
    "stats",
    "version"
  ],
  "definitions": {
    "SourceProvenance": {
      "description": "Core type definitions for",
      "type": "object",
      "properties": {
        "type": {
          "enum": [
            "git",
            "local"
          ],
          "type": "string"
        },
        "path": {
          "description": "For local sources: the absolute path",
          "type": "string"
        },
        "url": {
          "description": "For git sources: the repository URL",
          "type": "string"
        },
        "ref": {
          "description": "Branch/tag name",
          "type": "string"
        },
        "commitHash": {
          "description": "Full commit SHA",
          "type": "string"
        },
        "licenses": {
          "description": "SPDX license identifiers or custom license strings",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "type"
      ]
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://libragen.dev/schemas/v1/library-metadata.schema.json",
  "title": "Libragen Library Metadata",
  "description": "Metadata stored inside .libragen files describing the library contents"
}
